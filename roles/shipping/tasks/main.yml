- name: Install maven
  ansible.builtin.yum:
    name: maven
    state: installed

- name: copy {{ COMPONENT }} content
  ansible.builtin.include_role:
    name: common
    tasks_from: download

- name: Install mvn clean
  ansible.builtin.yum:
    name: mvn clean
    state: installed
    ignore: yes
    

- name: Copy {{ COMPONENT }} code
  ansible.builtin.copy:
    src: /tmp/{{ COMPONENT }}/target/{{ COMPONENT }}-1.0.jar
    dest: "{{ APP_LOCATION }}/"
    remote_src: yes

- name: Systemd setup for {{ COMPONENT }}
  ansible.builtin.include_role:
    name: common
    tasks_from: systemd

